window.HasteAjax={inProgress:{},fireEvent:function(e){var t={};return Array.from(document.querySelectorAll("[data-haste-ajax-listeners]")).forEach(function(s){s.dataset.hasteAjaxListeners.split(" ").indexOf(e)!==-1&&(t[s.dataset.hasteAjaxId]=s)}),Object.keys(t).length<1?void console.warn('There are no eligible elements for event "'+e+'"'):void this._sendRequest(t,e)},_sendRequest:function(e,t){if(!this.inProgress[t]){for(var s in e)e[s].className+=" haste-ajax-reloading";this.inProgress[t]=!0;var n=window.location.href+(document.location.search?"&":"?")+"&haste_ajax_reload="+t,r=new XMLHttpRequest;r.open("GET",encodeURI(n)),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.onload=function(){200===r.status?JSON.parse(r.responseText).forEach(function(t){var s=document.createElement("div");s.innerHTML=t.buffer,e[t.id].parentNode.replaceChild(s.childNodes[0],e[t.id])}):(console.error('The request for event "'+t+'" has failed'),console.error(r)),this.inProgress[t]=!1}.bind(this),r.send()}}};