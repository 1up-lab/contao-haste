!function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}return"function"!=typeof window.CustomEvent&&(e.prototype=window.Event.prototype,void(window.CustomEvent=e))}(),function(){function e(){arguments.length<1&&console.error("Please provide at least one event");var e={},n=[],a=document.querySelectorAll("[data-haste-ajax-listeners]");Array.from(arguments).forEach(function(t){var o=!1;Array.from(a).forEach(function(n){n.dataset.hasteAjaxListeners.split(" ").indexOf(t)!==-1&&(o=!0,e[n.dataset.hasteAjaxId]=n)}),o&&n.push(t)}),Object.keys(e).length>0&&n.length>0&&n.forEach(function(n){t(e,n)})}function t(e,t){a[t]&&a[t].abort();for(var o in e)n[o]=t,e[o].classList.add("haste-ajax-reloading");var s=new XMLHttpRequest;s.open("GET",encodeURI(window.location.href)),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Haste-Ajax-Reload",t),s.onload=function(){if(200===s.status){var o={},r=JSON.parse(s.responseText);Object.keys(r).forEach(function(a){e[a]&&n[a]===t&&(e[a].outerHTML=r[a],n[a]=null,o[a]=document.querySelector('[data-haste-ajax-id="'+a+'"]'))}),document.dispatchEvent(new CustomEvent("HasteAjaxReloadComplete",{bubbles:!1,cancelable:!1,detail:{entries:r,event:t,oldElements:e,newElements:o}}))}else console.error('The request for event "'+t+'" has failed'),console.error(s);a[t]=null},s.send(),a[t]=s}var n={},a={};window.HasteAjaxReload={dispatchEvents:e}}();