!function(){function e(){arguments.length<1&&console.error("Please provide at least one event");var e={},t=[],a=document.querySelectorAll("[data-haste-ajax-listeners]");Array.from(arguments).forEach(function(n){var r=!1;Array.from(a).forEach(function(t){t.dataset.hasteAjaxListeners.split(" ").indexOf(n)!==-1&&(r=!0,e[t.dataset.hasteAjaxId]=t)}),r&&t.push(n)}),Object.keys(e).length>0&&t.length>0&&n(e,t)}function n(e,n){if(e=t(e),n=r(n),!(Object.keys(e).length<1||n.length<1)){a(e,!0),o(n,!0);for(var i in e)e[i].className+=" haste-ajax-reloading";var s=window.location.href+(document.location.search?"&":"?")+"haste_ajax_reload="+n.join(","),c=new XMLHttpRequest;c.open("GET",encodeURI(s)),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.onload=function(){200===c.status?JSON.parse(c.responseText).forEach(function(n){if(e[n.id]){var t=document.createElement("div");t.innerHTML=n.buffer,e[n.id].parentNode.replaceChild(t.childNodes[0],e[n.id])}}):(console.error('The request for events "'+n.join(", ")+'" has failed'),console.error(c)),a(e,!1),o(n,!1)},c.send()}}function t(e){var n={};for(var t in e)i[t]||(n[t]=e[t]);return n}function a(e,n){for(var t in e)i[t]=n}function r(e){return e.filter(function(e){return!s[e]})}function o(e,n){e.forEach(function(e){s[e]=n})}var i={},s={};window.HasteAjaxReload={dispatchEvents:e}}();