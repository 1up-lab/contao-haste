!function(){function e(){arguments.length<1&&console.error("Please provide at least one event");var e={},n=[],r=document.querySelectorAll("[data-haste-ajax-listeners]");Array.from(arguments).forEach(function(t){var a=!1;Array.from(r).forEach(function(n){n.dataset.hasteAjaxListeners.split(" ").indexOf(t)!==-1&&(a=!0,e[n.dataset.hasteAjaxId]=n)}),a&&n.push(t)}),Object.keys(e).length>0&&n.length>0&&t(e,n)}function t(e,t){if(e=n(e),t=a(t),!(Object.keys(e).length<1||t.length<1)){r(e,!0),o(t,!0);for(var s in e)e[s].className+=" haste-ajax-reloading";var i=new XMLHttpRequest;i.open("GET",encodeURI(window.location.href)),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Haste-Ajax-Reload",t),i.onload=function(){200===i.status?JSON.parse(i.responseText).forEach(function(t){if(e[t.id]){var n=document.createElement("div");n.innerHTML=t.buffer,e[t.id].parentNode.replaceChild(n.childNodes[0],e[t.id])}}):(console.error('The request for events "'+t.join(", ")+'" has failed'),console.error(i)),r(e,!1),o(t,!1)},i.send()}}function n(e){var t={};for(var n in e)s[n]||(t[n]=e[n]);return t}function r(e,t){for(var n in e)s[n]=t}function a(e){return e.filter(function(e){return!i[e]})}function o(e,t){e.forEach(function(e){i[e]=t})}var s={},i={};window.HasteAjaxReload={dispatchEvents:e}}();